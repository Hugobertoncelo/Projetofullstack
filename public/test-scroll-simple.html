<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scroll Test</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        padding: 16px;
        background: #f8f9fa;
        border-bottom: 1px solid #e0e0e0;
        font-weight: 600;
      }

      .messages-container {
        height: 400px;
        overflow-y: auto;
        background: #ffffff;
      }

      .custom-scrollbar::-webkit-scrollbar {
        width: 12px;
      }

      .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(243, 244, 246, 0.5);
        border-radius: 6px;
      }

      .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: rgba(156, 163, 175, 0.7);
        border-radius: 6px;
        border: 2px solid transparent;
        background-clip: padding-box;
      }

      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: rgba(156, 163, 175, 1);
      }

      .messages-content {
        padding: 16px;
      }

      .message {
        margin: 12px 0;
        padding: 12px 16px;
        background: #f1f3f4;
        border-radius: 8px;
        border-left: 4px solid #2563eb;
      }

      .message:nth-child(even) {
        background: #e8f5e8;
        border-left-color: #16a34a;
      }

      button {
        margin: 10px;
        padding: 8px 16px;
        border: none;
        background: #2563eb;
        color: white;
        border-radius: 4px;
        cursor: pointer;
      }

      button:hover {
        background: #1d4ed8;
      }
    </style>
  </head>
  <body>
    <h1>Scroll Test - Should work with mouse wheel</h1>

    <div class="container">
      <div class="header">Chat Messages - Test Scroll Functionality</div>

      <div class="messages-container custom-scrollbar" id="messagesContainer">
        <div class="messages-content" id="messagesContent">
          <!-- Messages will be generated by JavaScript -->
        </div>
      </div>
    </div>

    <div>
      <button onclick="addMessage()">Add Message</button>
      <button onclick="scrollToTop()">Scroll to Top</button>
      <button onclick="scrollToBottom()">Scroll to Bottom</button>
      <button onclick="clearMessages()">Clear Messages</button>
    </div>

    <script>
      let messageCount = 0;

      function addMessage() {
        const messagesContent = document.getElementById("messagesContent");
        const message = document.createElement("div");
        message.className = "message";
        message.innerHTML = `
                <strong>Message ${++messageCount}</strong><br>
                This is a test message to verify scroll functionality. 
                The container should scroll with the mouse wheel when there are enough messages.
                Current time: ${new Date().toLocaleTimeString()}
            `;
        messagesContent.appendChild(message);

        // Auto scroll to bottom when adding new message
        const container = document.getElementById("messagesContainer");
        container.scrollTop = container.scrollHeight;
      }

      function scrollToTop() {
        const container = document.getElementById("messagesContainer");
        container.scrollTo({ top: 0, behavior: "smooth" });
      }

      function scrollToBottom() {
        const container = document.getElementById("messagesContainer");
        container.scrollTo({ top: container.scrollHeight, behavior: "smooth" });
      }

      function clearMessages() {
        document.getElementById("messagesContent").innerHTML = "";
        messageCount = 0;
      }

      // Initialize with some messages
      for (let i = 0; i < 15; i++) {
        addMessage();
      }

      // Test scroll events
      document
        .getElementById("messagesContainer")
        .addEventListener("scroll", function () {
          console.log("Scroll event detected:", this.scrollTop);
        });
    </script>
  </body>
</html>
